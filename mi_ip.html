<html>
<head>
  <title>Mi IP</title>
  <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
</head>
<body>
  <script type="text/javascript">
    var data = null;
    $(document).ready(function () {

      $.getJSON('https://ipinfo.io/json', function(data) {
        /* 
        Response example:
          {
            "ip": "116.12.250.1",
            "hostname": "No Hostname",
            "city": "Singapore",
            "region": "Central Singapore Community Development Council",
            "country": "SG",
            "loc": "1.2931,103.8558",
            "org": "AS3758 SingNet"
          }
        */
        data = JSON.stringify(data, null, 2);
//         console.log(data);
        console.log(data.ip);
//         document.write(data.ip);
//         if (data.hostname != "No Hostname") {
//           document.write(data.hostname);
//         }
//         document.write(data.city);
//         document.write(data.country);
//         document.write(data.loc);        
//         document.write(data.org);
      });
    });
  </script>
  <div>
    <p>
      <strong>IP: </strong><script>document.write(data.ip);</script>
    </p>
  </div>
</body>
</html>
